{
    "sourceFile": "routes/web.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 19,
            "patches": [
                {
                    "date": 1728091720802,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1728092315156,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,19 +20,19 @@\n     return redirect('/log-viewer');\n })->name('log-viewer');\n \n // Route untuk dashboard tergantung role\n-// Route::get('/', function () {\n-//     $user = Auth::user();\n+Route::get('/', function () {\n+    $user = Auth::user();\n \n-//     if ($user->hasRole('super-admin') || $user->hasRole('admin')) {\n-//         return redirect()->route('admin.dashboard');\n-//     } elseif ($user->hasRole('user')) {\n-//         return redirect()->route('user.dashboard');\n-//     }\n+    if ($user->hasRole('super-admin') || $user->hasRole('admin')) {\n+        return redirect()->route('admin.dashboard');\n+    } elseif ($user->hasRole('user')) {\n+        return redirect()->route('user.dashboard');\n+    }\n \n-//     return redirect('/login');  // Jika tidak ada role yang sesuai, arahkan ke login\n-// })->middleware('auth')->name('home');\n+    return redirect('/login');  // Jika tidak ada role yang sesuai, arahkan ke login\n+})->middleware('auth')->name('home');\n \n // Route untuk user dashboard\n Route::middleware(['auth', 'role:user'])->group(function () {\n     Route::get('/user-dashboard', [HomeController::class, 'userDashboard'])->name('user.dashboard');\n"
                },
                {
                    "date": 1728092382004,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,22 +6,18 @@\n use Illuminate\\Support\\Facades\\Route;\n use Illuminate\\Support\\Facades\\Auth;\n use Spatie\\Permission\\PermissionRegistrar;\n \n-// Handling untuk jika route tidak ditemukan\n Route::fallback(function () {\n     return view('errors.404');\n });\n \n-// Routes untuk otentikasi\n Auth::routes();\n \n-// Route untuk log viewer (misal admin log viewer)\n Route::get('/log-viewer', function () {\n     return redirect('/log-viewer');\n })->name('log-viewer');\n \n-// Route untuk dashboard tergantung role\n Route::get('/', function () {\n     $user = Auth::user();\n \n     if ($user->hasRole('super-admin') || $user->hasRole('admin')) {\n@@ -29,21 +25,18 @@\n     } elseif ($user->hasRole('user')) {\n         return redirect()->route('user.dashboard');\n     }\n \n-    return redirect('/login');  // Jika tidak ada role yang sesuai, arahkan ke login\n+    return redirect('/login'); =\n })->middleware('auth')->name('home');\n \n-// Route untuk user dashboard\n Route::middleware(['auth', 'role:user'])->group(function () {\n     Route::get('/user-dashboard', [HomeController::class, 'userDashboard'])->name('user.dashboard');\n });\n \n-// Grouping untuk route admin dan super-admin dengan prefix /admin\n Route::middleware(['auth', 'role:admin|super-admin'])->prefix('admin')->group(function () {\n     Route::get('/dashboard', [HomeController::class, 'adminDashboard'])->name('admin.dashboard');\n \n-    // Route dengan prefix /admin untuk products, orders, dan users\n     Route::get('/products', function () {\n         return view('admin.product');\n     })->name('admin.product')->middleware('can:show-product');\n \n@@ -55,9 +48,8 @@\n         return view('admin.user');\n     })->name('admin.users')->middleware('can:show-user');\n });\n \n-// Route khusus super-admin dengan prefix /admin\n Route::middleware(['auth', 'role:super-admin'])->prefix('admin')->group(function () {\n     // Route::get('/admin-accounts', [SuperAdminController::class, 'index'])\n     // ->name('admin.accounts');\n     // // ->middleware('can:show-admin-account');\n"
                },
                {
                    "date": 1728349383479,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,5 +80,5 @@\n \n     Route::get('role-permissions', [PermissionController::class, 'role'])->name('admin.permissions.role');\n     Route::get('role-permissions/edit/{id}', [PermissionController::class, 'rolePermissionEdit'])->name('admin.permissions.role.edit');\n     Route::put('role-permissions/update/{id}', [PermissionController::class, 'rolePermissionUpdate'])->name('admin.permissions.role.update');\n-});\n+});\n\\ No newline at end of file\n"
                },
                {
                    "date": 1728349466740,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n     } elseif ($user->hasRole('user')) {\n         return redirect()->route('user.dashboard');\n     }\n \n-    return redirect('/login'); =\n+    return redirect('/login');\n })->middleware('auth')->name('home');\n \n Route::middleware(['auth', 'role:user'])->group(function () {\n     Route::get('/user-dashboard', [HomeController::class, 'userDashboard'])->name('user.dashboard');\n@@ -61,8 +61,11 @@\n \n     Route::post('/admin-accounts/store', [SuperAdminController::class, 'store'])\n     ->name('admin.accounts.store');\n \n+    Route::put('/admin-accounts/update/{id}', [SuperAdminController::class, 'update'])\n+    ->name('admin.accounts.update');\n+\n     // edit akun\n     Route::get('/admin-accounts/edit/{id}', [SuperAdminController::class, 'edit'])->name('admin.accounts.edit');\n     // delete akun\n     Route::delete('/admin-accounts/destroy/{id}', [SuperAdminController::class, 'destroy'])->name('admin.accounts.destroy');\n"
                },
                {
                    "date": 1728350760645,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,84 +1,65 @@\n-<?php\n-\n use App\\Http\\Controllers\\HomeController;\n use App\\Http\\Controllers\\PermissionController;\n use App\\Http\\Controllers\\SuperAdmin\\SuperAdminController;\n use Illuminate\\Support\\Facades\\Route;\n-use Illuminate\\Support\\Facades\\Auth;\n-use Spatie\\Permission\\PermissionRegistrar;\n \n Route::fallback(function () {\n-    return view('errors.404');\n+return view('errors.404');\n });\n \n Auth::routes();\n \n-Route::get('/log-viewer', function () {\n-    return redirect('/log-viewer');\n-})->name('log-viewer');\n-\n Route::get('/', function () {\n-    $user = Auth::user();\n+$user = Auth::user();\n \n-    if ($user->hasRole('super-admin') || $user->hasRole('admin')) {\n-        return redirect()->route('admin.dashboard');\n-    } elseif ($user->hasRole('user')) {\n-        return redirect()->route('user.dashboard');\n-    }\n+if ($user && ($user->hasRole('super-admin') || $user->hasRole('admin'))) {\n+return redirect()->route('admin.dashboard');\n+} elseif ($user && $user->hasRole('user')) {\n+return redirect()->route('user.dashboard');\n+}\n \n-    return redirect('/login');\n+return redirect('/login');\n })->middleware('auth')->name('home');\n \n-Route::middleware(['auth', 'role:user'])->group(function () {\n-    Route::get('/user-dashboard', [HomeController::class, 'userDashboard'])->name('user.dashboard');\n+Route::middleware(['auth', 'role_or_permission:user'])->group(function () {\n+Route::get('/user-dashboard', [HomeController::class, 'userDashboard'])->name('user.dashboard');\n });\n \n-Route::middleware(['auth', 'role:admin|super-admin'])->prefix('admin')->group(function () {\n-    Route::get('/dashboard', [HomeController::class, 'adminDashboard'])->name('admin.dashboard');\n+Route::middleware(['auth', 'role_or_permission:admin|super-admin'])->prefix('admin')->group(function () {\n+Route::get('/dashboard', [HomeController::class, 'adminDashboard'])->name('admin.dashboard');\n \n-    Route::get('/products', function () {\n-        return view('admin.product');\n-    })->name('admin.product')->middleware('can:show-product');\n+Route::get('/products', function () {\n+return view('admin.product');\n+})->name('admin.product')->middleware('can:show-product');\n \n-    Route::get('/orders', function () {\n-        return view('admin.order');\n-    })->name('admin.orders')->middleware('can:show-order');\n+Route::get('/orders', function () {\n+return view('admin.order');\n+})->name('admin.orders')->middleware('can:show-order');\n \n-    Route::get('/users', function () {\n-        return view('admin.user');\n-    })->name('admin.users')->middleware('can:show-user');\n+Route::get('/users', function () {\n+return view('admin.user');\n+})->name('admin.users')->middleware('can:show-user');\n });\n \n-Route::middleware(['auth', 'role:super-admin'])->prefix('admin')->group(function () {\n-    // Route::get('/admin-accounts', [SuperAdminController::class, 'index'])\n-    // ->name('admin.accounts');\n-    // // ->middleware('can:show-admin-account');\n+Route::middleware(['auth', 'role_or_permission:super-admin'])->prefix('admin')->group(function () {\n+Route::get('admin-accounts', [SuperAdminController::class, 'index'])->name('admin.accounts');\n \n-    Route::get('admin-accounts', [SuperAdminController::class, 'index'])->name('admin.accounts');\n-    // // create akun\n-    Route::get('/admin-accounts/create', [SuperAdminController::class, 'create'])\n-    ->name('admin.accounts.create');\n+Route::get('/admin-accounts/create', [SuperAdminController::class, 'create'])->name('admin.accounts.create');\n+Route::post('/admin-accounts/store', [SuperAdminController::class, 'store'])->name('admin.accounts.store');\n+Route::put('/admin-accounts/update/{id}', [SuperAdminController::class, 'update'])->name('admin.accounts.update');\n+Route::get('/admin-accounts/edit/{id}', [SuperAdminController::class, 'edit'])->name('admin.accounts.edit');\n+Route::delete('/admin-accounts/destroy/{id}', [SuperAdminController::class, 'destroy'])->name('admin.accounts.destroy');\n \n-    Route::post('/admin-accounts/store', [SuperAdminController::class, 'store'])\n-    ->name('admin.accounts.store');\n+Route::get('permissions', [PermissionController::class, 'index'])->name('admin.permissions');\n+Route::get('permissions/create', [PermissionController::class, 'create'])->name('admin.permissions.create');\n+Route::post('permissions/store', [PermissionController::class, 'store'])->name('admin.permission.store');\n+Route::get('permissions/edit/{id}', [PermissionController::class, 'edit'])->name('admin.permission.edit');\n+Route::put('permissions/update/{id}', [PermissionController::class, 'update'])->name('admin.permission.update');\n+Route::delete('permissions/destroy/{id}', [PermissionController::class, 'destroy'])->name('admin.permission.destroy');\n \n-    Route::put('/admin-accounts/update/{id}', [SuperAdminController::class, 'update'])\n-    ->name('admin.accounts.update');\n-\n-    // edit akun\n-    Route::get('/admin-accounts/edit/{id}', [SuperAdminController::class, 'edit'])->name('admin.accounts.edit');\n-    // delete akun\n-    Route::delete('/admin-accounts/destroy/{id}', [SuperAdminController::class, 'destroy'])->name('admin.accounts.destroy');\n-\n-    Route::get('permissions', [PermissionController::class, 'index'])->name('admin.permissions');\n-    Route::get('permissions/create', [PermissionController::class, 'create'])->name('admin.permissions.create');\n-    Route::post('permissions/store', [PermissionController::class, 'store'])->name('admin.permission.store');\n-    Route::get('permissions/edit/{id}', [PermissionController::class, 'edit'])->name('admin.permission.edit');\n-    Route::put('permissions/update/{id}', [PermissionController::class, 'update'])->name('admin.permission.update');\n-    Route::delete('permissions/destroy/{id}', [PermissionController::class, 'destroy'])->name('admin.permission.destroy');\n-\n-\n-    Route::get('role-permissions', [PermissionController::class, 'role'])->name('admin.permissions.role');\n-    Route::get('role-permissions/edit/{id}', [PermissionController::class, 'rolePermissionEdit'])->name('admin.permissions.role.edit');\n-    Route::put('role-permissions/update/{id}', [PermissionController::class, 'rolePermissionUpdate'])->name('admin.permissions.role.update');\n+Route::get('role-permissions', [PermissionController::class, 'role'])->name('admin.permissions.role');\n+Route::get('role-permissions/edit/{id}', [PermissionController::class,\n+'rolePermissionEdit'])->name('admin.permissions.role.edit');\n+Route::put('role-permissions/update/{id}', [PermissionController::class,\n+'rolePermissionUpdate'])->name('admin.permissions.role.update');\n });\n\\ No newline at end of file\n"
                },
                {
                    "date": 1728350779485,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,65 +1,65 @@\n+<?php\n+\n use App\\Http\\Controllers\\HomeController;\n use App\\Http\\Controllers\\PermissionController;\n use App\\Http\\Controllers\\SuperAdmin\\SuperAdminController;\n use Illuminate\\Support\\Facades\\Route;\n \n Route::fallback(function () {\n-return view('errors.404');\n+    return view('errors.404');\n });\n \n Auth::routes();\n \n Route::get('/', function () {\n-$user = Auth::user();\n+    $user = Auth::user();\n \n-if ($user && ($user->hasRole('super-admin') || $user->hasRole('admin'))) {\n-return redirect()->route('admin.dashboard');\n-} elseif ($user && $user->hasRole('user')) {\n-return redirect()->route('user.dashboard');\n-}\n+    if ($user && ($user->hasRole('super-admin') || $user->hasRole('admin'))) {\n+        return redirect()->route('admin.dashboard');\n+    } elseif ($user && $user->hasRole('user')) {\n+        return redirect()->route('user.dashboard');\n+    }\n \n-return redirect('/login');\n+    return redirect('/login');\n })->middleware('auth')->name('home');\n \n Route::middleware(['auth', 'role_or_permission:user'])->group(function () {\n-Route::get('/user-dashboard', [HomeController::class, 'userDashboard'])->name('user.dashboard');\n+    Route::get('/user-dashboard', [HomeController::class, 'userDashboard'])->name('user.dashboard');\n });\n \n Route::middleware(['auth', 'role_or_permission:admin|super-admin'])->prefix('admin')->group(function () {\n-Route::get('/dashboard', [HomeController::class, 'adminDashboard'])->name('admin.dashboard');\n+    Route::get('/dashboard', [HomeController::class, 'adminDashboard'])->name('admin.dashboard');\n \n-Route::get('/products', function () {\n-return view('admin.product');\n-})->name('admin.product')->middleware('can:show-product');\n+    Route::get('/products', function () {\n+        return view('admin.product');\n+    })->name('admin.product')->middleware('can:show-product');\n \n-Route::get('/orders', function () {\n-return view('admin.order');\n-})->name('admin.orders')->middleware('can:show-order');\n+    Route::get('/orders', function () {\n+        return view('admin.order');\n+    })->name('admin.orders')->middleware('can:show-order');\n \n-Route::get('/users', function () {\n-return view('admin.user');\n-})->name('admin.users')->middleware('can:show-user');\n+    Route::get('/users', function () {\n+        return view('admin.user');\n+    })->name('admin.users')->middleware('can:show-user');\n });\n \n Route::middleware(['auth', 'role_or_permission:super-admin'])->prefix('admin')->group(function () {\n-Route::get('admin-accounts', [SuperAdminController::class, 'index'])->name('admin.accounts');\n+    Route::get('admin-accounts', [SuperAdminController::class, 'index'])->name('admin.accounts');\n \n-Route::get('/admin-accounts/create', [SuperAdminController::class, 'create'])->name('admin.accounts.create');\n-Route::post('/admin-accounts/store', [SuperAdminController::class, 'store'])->name('admin.accounts.store');\n-Route::put('/admin-accounts/update/{id}', [SuperAdminController::class, 'update'])->name('admin.accounts.update');\n-Route::get('/admin-accounts/edit/{id}', [SuperAdminController::class, 'edit'])->name('admin.accounts.edit');\n-Route::delete('/admin-accounts/destroy/{id}', [SuperAdminController::class, 'destroy'])->name('admin.accounts.destroy');\n+    Route::get('/admin-accounts/create', [SuperAdminController::class, 'create'])->name('admin.accounts.create');\n+    Route::post('/admin-accounts/store', [SuperAdminController::class, 'store'])->name('admin.accounts.store');\n+    Route::put('/admin-accounts/update/{id}', [SuperAdminController::class, 'update'])->name('admin.accounts.update');\n+    Route::get('/admin-accounts/edit/{id}', [SuperAdminController::class, 'edit'])->name('admin.accounts.edit');\n+    Route::delete('/admin-accounts/destroy/{id}', [SuperAdminController::class, 'destroy'])->name('admin.accounts.destroy');\n \n-Route::get('permissions', [PermissionController::class, 'index'])->name('admin.permissions');\n-Route::get('permissions/create', [PermissionController::class, 'create'])->name('admin.permissions.create');\n-Route::post('permissions/store', [PermissionController::class, 'store'])->name('admin.permission.store');\n-Route::get('permissions/edit/{id}', [PermissionController::class, 'edit'])->name('admin.permission.edit');\n-Route::put('permissions/update/{id}', [PermissionController::class, 'update'])->name('admin.permission.update');\n-Route::delete('permissions/destroy/{id}', [PermissionController::class, 'destroy'])->name('admin.permission.destroy');\n+    Route::get('permissions', [PermissionController::class, 'index'])->name('admin.permissions');\n+    Route::get('permissions/create', [PermissionController::class, 'create'])->name('admin.permissions.create');\n+    Route::post('permissions/store', [PermissionController::class, 'store'])->name('admin.permission.store');\n+    Route::get('permissions/edit/{id}', [PermissionController::class, 'edit'])->name('admin.permission.edit');\n+    Route::put('permissions/update/{id}', [PermissionController::class, 'update'])->name('admin.permission.update');\n+    Route::delete('permissions/destroy/{id}', [PermissionController::class, 'destroy'])->name('admin.permission.destroy');\n \n-Route::get('role-permissions', [PermissionController::class, 'role'])->name('admin.permissions.role');\n-Route::get('role-permissions/edit/{id}', [PermissionController::class,\n-'rolePermissionEdit'])->name('admin.permissions.role.edit');\n-Route::put('role-permissions/update/{id}', [PermissionController::class,\n-'rolePermissionUpdate'])->name('admin.permissions.role.update');\n+    Route::get('role-permissions', [PermissionController::class, 'role'])->name('admin.permissions.role');\n+    Route::get('role-permissions/edit/{id}', [PermissionController::class, 'rolePermissionEdit'])->name('admin.permissions.role.edit');\n+    Route::put('role-permissions/update/{id}', [PermissionController::class, 'rolePermissionUpdate'])->name('admin.permissions.role.update');\n });\n\\ No newline at end of file\n"
                },
                {
                    "date": 1728350813785,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,8 +2,9 @@\n \n use App\\Http\\Controllers\\HomeController;\n use App\\Http\\Controllers\\PermissionController;\n use App\\Http\\Controllers\\SuperAdmin\\SuperAdminController;\n+use Illuminate\\Support\\Facades\\Auth;\n use Illuminate\\Support\\Facades\\Route;\n \n Route::fallback(function () {\n     return view('errors.404');\n"
                },
                {
                    "date": 1728352812063,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n <?php\n \n use App\\Http\\Controllers\\HomeController;\n-use App\\Http\\Controllers\\PermissionController;\n+use App\\Http\\Controllers\\Permission\\PermissionController;\n use App\\Http\\Controllers\\SuperAdmin\\SuperAdminController;\n use Illuminate\\Support\\Facades\\Auth;\n use Illuminate\\Support\\Facades\\Route;\n \n"
                },
                {
                    "date": 1728352855240,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n <?php\n \n use App\\Http\\Controllers\\HomeController;\n-use App\\Http\\Controllers\\Permission\\PermissionController;\n+use App\\Http\\Controllers\\PermissionController;\n use App\\Http\\Controllers\\SuperAdmin\\SuperAdminController;\n use Illuminate\\Support\\Facades\\Auth;\n use Illuminate\\Support\\Facades\\Route;\n \n"
                },
                {
                    "date": 1728353127417,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n Route::middleware(['auth', 'role_or_permission:user'])->group(function () {\n     Route::get('/user-dashboard', [HomeController::class, 'userDashboard'])->name('user.dashboard');\n });\n \n-Route::middleware(['auth', 'role_or_permission:admin|super-admin'])->prefix('admin')->group(function () {\n+Route::middleware(['auth', 'role_or_permission:super-admin'])->prefix('admin')->group(function () {\n     Route::get('/dashboard', [HomeController::class, 'adminDashboard'])->name('admin.dashboard');\n \n     Route::get('/products', function () {\n         return view('admin.product');\n"
                },
                {
                    "date": 1728353172356,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n     Route::get('/dashboard', [HomeController::class, 'adminDashboard'])->name('admin.dashboard');\n \n     Route::get('/products', function () {\n         return view('admin.product');\n-    })->name('admin.product')->middleware('can:show-product');\n+    })->name('admin.product')->middleware('role_or_permission:show-product');\n \n     Route::get('/orders', function () {\n         return view('admin.order');\n     })->name('admin.orders')->middleware('can:show-order');\n"
                },
                {
                    "date": 1728353231757,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n Route::middleware(['auth', 'role_or_permission:user'])->group(function () {\n     Route::get('/user-dashboard', [HomeController::class, 'userDashboard'])->name('user.dashboard');\n });\n \n-Route::middleware(['auth', 'role_or_permission:super-admin'])->prefix('admin')->group(function () {\n+Route::middleware(['auth', 'role_or_permission:admin|super-admin'])->prefix('admin')->group(function () {\n     Route::get('/dashboard', [HomeController::class, 'adminDashboard'])->name('admin.dashboard');\n \n     Route::get('/products', function () {\n         return view('admin.product');\n"
                },
                {
                    "date": 1728353277131,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,20 +30,20 @@\n \n Route::middleware(['auth', 'role_or_permission:admin|super-admin'])->prefix('admin')->group(function () {\n     Route::get('/dashboard', [HomeController::class, 'adminDashboard'])->name('admin.dashboard');\n \n-    Route::get('/products', function () {\n-        return view('admin.product');\n-    })->name('admin.product')->middleware('role_or_permission:show-product');\n+});\n+Route::get('/products', function () {\n+    return view('admin.product');\n+})->name('admin.product')->middleware('role_or_permission:show-product');\n \n-    Route::get('/orders', function () {\n-        return view('admin.order');\n-    })->name('admin.orders')->middleware('can:show-order');\n+Route::get('/orders', function () {\n+    return view('admin.order');\n+})->name('admin.orders')->middleware('can:show-order');\n \n-    Route::get('/users', function () {\n-        return view('admin.user');\n-    })->name('admin.users')->middleware('can:show-user');\n-});\n+Route::get('/users', function () {\n+    return view('admin.user');\n+})->name('admin.users')->middleware('can:show-user');\n \n Route::middleware(['auth', 'role_or_permission:super-admin'])->prefix('admin')->group(function () {\n     Route::get('admin-accounts', [SuperAdminController::class, 'index'])->name('admin.accounts');\n \n"
                },
                {
                    "date": 1728353302681,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,9 +37,9 @@\n })->name('admin.product')->middleware('role_or_permission:show-product');\n \n Route::get('/orders', function () {\n     return view('admin.order');\n-})->name('admin.orders')->middleware('can:show-order');\n+})->name('admin.orders')->middleware('role_or_permission:show-order');\n \n Route::get('/users', function () {\n     return view('admin.user');\n })->name('admin.users')->middleware('can:show-user');\n"
                },
                {
                    "date": 1728353307991,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,9 +41,9 @@\n })->name('admin.orders')->middleware('role_or_permission:show-order');\n \n Route::get('/users', function () {\n     return view('admin.user');\n-})->name('admin.users')->middleware('can:show-user');\n+})->name('admin.users')->middleware('role_or_permission:show-product');\n \n Route::middleware(['auth', 'role_or_permission:super-admin'])->prefix('admin')->group(function () {\n     Route::get('admin-accounts', [SuperAdminController::class, 'index'])->name('admin.accounts');\n \n"
                },
                {
                    "date": 1728353314128,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,9 +41,9 @@\n })->name('admin.orders')->middleware('role_or_permission:show-order');\n \n Route::get('/users', function () {\n     return view('admin.user');\n-})->name('admin.users')->middleware('role_or_permission:show-product');\n+})->name('admin.users')->middleware('role_or_permission:show-user');\n \n Route::middleware(['auth', 'role_or_permission:super-admin'])->prefix('admin')->group(function () {\n     Route::get('admin-accounts', [SuperAdminController::class, 'index'])->name('admin.accounts');\n \n"
                },
                {
                    "date": 1728353349469,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n \n });\n Route::get('/products', function () {\n     return view('admin.product');\n-})->name('admin.product')->middleware('role_or_permission:show-product');\n+})->name('admin.product')->middleware('auth','role_or_permission:show-product');\n \n Route::get('/orders', function () {\n     return view('admin.order');\n })->name('admin.orders')->middleware('role_or_permission:show-order');\n"
                },
                {
                    "date": 1728353365981,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,9 +37,9 @@\n })->name('admin.product')->middleware('auth', 'role_or_permission:show-product');\n \n Route::get('/orders', function () {\n     return view('admin.order');\n-})->name('admin.orders')->middleware('role_or_permission:show-order');\n+})->name('admin.orders')->middleware('auth','role_or_permission:show-order');\n \n Route::get('/users', function () {\n     return view('admin.user');\n })->name('admin.users')->middleware('role_or_permission:show-user');\n"
                },
                {
                    "date": 1728353372547,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,9 +41,9 @@\n })->name('admin.orders')->middleware('auth', 'role_or_permission:show-order');\n \n Route::get('/users', function () {\n     return view('admin.user');\n-})->name('admin.users')->middleware('role_or_permission:show-user');\n+})->name('admin.users')->middleware('auth','role_or_permission:show-user');\n \n Route::middleware(['auth', 'role_or_permission:super-admin'])->prefix('admin')->group(function () {\n     Route::get('admin-accounts', [SuperAdminController::class, 'index'])->name('admin.accounts');\n \n"
                }
            ],
            "date": 1728091720802,
            "name": "Commit-0",
            "content": "<?php\n\nuse App\\Http\\Controllers\\HomeController;\nuse App\\Http\\Controllers\\PermissionController;\nuse App\\Http\\Controllers\\SuperAdmin\\SuperAdminController;\nuse Illuminate\\Support\\Facades\\Route;\nuse Illuminate\\Support\\Facades\\Auth;\nuse Spatie\\Permission\\PermissionRegistrar;\n\n// Handling untuk jika route tidak ditemukan\nRoute::fallback(function () {\n    return view('errors.404');\n});\n\n// Routes untuk otentikasi\nAuth::routes();\n\n// Route untuk log viewer (misal admin log viewer)\nRoute::get('/log-viewer', function () {\n    return redirect('/log-viewer');\n})->name('log-viewer');\n\n// Route untuk dashboard tergantung role\n// Route::get('/', function () {\n//     $user = Auth::user();\n\n//     if ($user->hasRole('super-admin') || $user->hasRole('admin')) {\n//         return redirect()->route('admin.dashboard');\n//     } elseif ($user->hasRole('user')) {\n//         return redirect()->route('user.dashboard');\n//     }\n\n//     return redirect('/login');  // Jika tidak ada role yang sesuai, arahkan ke login\n// })->middleware('auth')->name('home');\n\n// Route untuk user dashboard\nRoute::middleware(['auth', 'role:user'])->group(function () {\n    Route::get('/user-dashboard', [HomeController::class, 'userDashboard'])->name('user.dashboard');\n});\n\n// Grouping untuk route admin dan super-admin dengan prefix /admin\nRoute::middleware(['auth', 'role:admin|super-admin'])->prefix('admin')->group(function () {\n    Route::get('/dashboard', [HomeController::class, 'adminDashboard'])->name('admin.dashboard');\n\n    // Route dengan prefix /admin untuk products, orders, dan users\n    Route::get('/products', function () {\n        return view('admin.product');\n    })->name('admin.product')->middleware('can:show-product');\n\n    Route::get('/orders', function () {\n        return view('admin.order');\n    })->name('admin.orders')->middleware('can:show-order');\n\n    Route::get('/users', function () {\n        return view('admin.user');\n    })->name('admin.users')->middleware('can:show-user');\n});\n\n// Route khusus super-admin dengan prefix /admin\nRoute::middleware(['auth', 'role:super-admin'])->prefix('admin')->group(function () {\n    // Route::get('/admin-accounts', [SuperAdminController::class, 'index'])\n    // ->name('admin.accounts');\n    // // ->middleware('can:show-admin-account');\n\n    Route::get('admin-accounts', [SuperAdminController::class, 'index'])->name('admin.accounts');\n    // // create akun\n    Route::get('/admin-accounts/create', [SuperAdminController::class, 'create'])\n    ->name('admin.accounts.create');\n\n    Route::post('/admin-accounts/store', [SuperAdminController::class, 'store'])\n    ->name('admin.accounts.store');\n\n    // edit akun\n    Route::get('/admin-accounts/edit/{id}', [SuperAdminController::class, 'edit'])->name('admin.accounts.edit');\n    // delete akun\n    Route::delete('/admin-accounts/destroy/{id}', [SuperAdminController::class, 'destroy'])->name('admin.accounts.destroy');\n\n    Route::get('permissions', [PermissionController::class, 'index'])->name('admin.permissions');\n    Route::get('permissions/create', [PermissionController::class, 'create'])->name('admin.permissions.create');\n    Route::post('permissions/store', [PermissionController::class, 'store'])->name('admin.permission.store');\n    Route::get('permissions/edit/{id}', [PermissionController::class, 'edit'])->name('admin.permission.edit');\n    Route::put('permissions/update/{id}', [PermissionController::class, 'update'])->name('admin.permission.update');\n    Route::delete('permissions/destroy/{id}', [PermissionController::class, 'destroy'])->name('admin.permission.destroy');\n\n\n    Route::get('role-permissions', [PermissionController::class, 'role'])->name('admin.permissions.role');\n    Route::get('role-permissions/edit/{id}', [PermissionController::class, 'rolePermissionEdit'])->name('admin.permissions.role.edit');\n    Route::put('role-permissions/update/{id}', [PermissionController::class, 'rolePermissionUpdate'])->name('admin.permissions.role.update');\n});"
        }
    ]
}