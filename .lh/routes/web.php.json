{
    "sourceFile": "routes/web.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1728091720802,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1728091720802,
            "name": "Commit-0",
            "content": "<?php\n\nuse App\\Http\\Controllers\\HomeController;\nuse App\\Http\\Controllers\\PermissionController;\nuse App\\Http\\Controllers\\SuperAdmin\\SuperAdminController;\nuse Illuminate\\Support\\Facades\\Route;\nuse Illuminate\\Support\\Facades\\Auth;\nuse Spatie\\Permission\\PermissionRegistrar;\n\n// Handling untuk jika route tidak ditemukan\nRoute::fallback(function () {\n    return view('errors.404');\n});\n\n// Routes untuk otentikasi\nAuth::routes();\n\n// Route untuk log viewer (misal admin log viewer)\nRoute::get('/log-viewer', function () {\n    return redirect('/log-viewer');\n})->name('log-viewer');\n\n// Route untuk dashboard tergantung role\n// Route::get('/', function () {\n//     $user = Auth::user();\n\n//     if ($user->hasRole('super-admin') || $user->hasRole('admin')) {\n//         return redirect()->route('admin.dashboard');\n//     } elseif ($user->hasRole('user')) {\n//         return redirect()->route('user.dashboard');\n//     }\n\n//     return redirect('/login');  // Jika tidak ada role yang sesuai, arahkan ke login\n// })->middleware('auth')->name('home');\n\n// Route untuk user dashboard\nRoute::middleware(['auth', 'role:user'])->group(function () {\n    Route::get('/user-dashboard', [HomeController::class, 'userDashboard'])->name('user.dashboard');\n});\n\n// Grouping untuk route admin dan super-admin dengan prefix /admin\nRoute::middleware(['auth', 'role:admin|super-admin'])->prefix('admin')->group(function () {\n    Route::get('/dashboard', [HomeController::class, 'adminDashboard'])->name('admin.dashboard');\n\n    // Route dengan prefix /admin untuk products, orders, dan users\n    Route::get('/products', function () {\n        return view('admin.product');\n    })->name('admin.product')->middleware('can:show-product');\n\n    Route::get('/orders', function () {\n        return view('admin.order');\n    })->name('admin.orders')->middleware('can:show-order');\n\n    Route::get('/users', function () {\n        return view('admin.user');\n    })->name('admin.users')->middleware('can:show-user');\n});\n\n// Route khusus super-admin dengan prefix /admin\nRoute::middleware(['auth', 'role:super-admin'])->prefix('admin')->group(function () {\n    // Route::get('/admin-accounts', [SuperAdminController::class, 'index'])\n    // ->name('admin.accounts');\n    // // ->middleware('can:show-admin-account');\n\n    Route::get('admin-accounts', [SuperAdminController::class, 'index'])->name('admin.accounts');\n    // // create akun\n    Route::get('/admin-accounts/create', [SuperAdminController::class, 'create'])\n    ->name('admin.accounts.create');\n\n    Route::post('/admin-accounts/store', [SuperAdminController::class, 'store'])\n    ->name('admin.accounts.store');\n\n    // edit akun\n    Route::get('/admin-accounts/edit/{id}', [SuperAdminController::class, 'edit'])->name('admin.accounts.edit');\n    // delete akun\n    Route::delete('/admin-accounts/destroy/{id}', [SuperAdminController::class, 'destroy'])->name('admin.accounts.destroy');\n\n    Route::get('permissions', [PermissionController::class, 'index'])->name('admin.permissions');\n    Route::get('permissions/create', [PermissionController::class, 'create'])->name('admin.permissions.create');\n    Route::post('permissions/store', [PermissionController::class, 'store'])->name('admin.permission.store');\n    Route::get('permissions/edit/{id}', [PermissionController::class, 'edit'])->name('admin.permission.edit');\n    Route::put('permissions/update/{id}', [PermissionController::class, 'update'])->name('admin.permission.update');\n    Route::delete('permissions/destroy/{id}', [PermissionController::class, 'destroy'])->name('admin.permission.destroy');\n\n\n    Route::get('role-permissions', [PermissionController::class, 'role'])->name('admin.permissions.role');\n    Route::get('role-permissions/edit/{id}', [PermissionController::class, 'rolePermissionEdit'])->name('admin.permissions.role.edit');\n    Route::put('role-permissions/update/{id}', [PermissionController::class, 'rolePermissionUpdate'])->name('admin.permissions.role.update');\n});"
        }
    ]
}